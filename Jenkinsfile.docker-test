// Test Jenkinsfile for Docker deployment
// This demonstrates how to use the dockerPipeline function from the shared library

@Library('shared-jenkins-library') _

dockerPipeline(
    dockerImage: 'test-app',
    appPort: '8080',
    containerName: 'test-app',
    infisicalPath: '/test-app/',
    deploymentMethod: 'docker-compose',
    infisicalMethod: 'export',
    healthCheckUrl: '/health',
    healthCheckWait: '30',
    cleanupOldImages: true,
    keepImageVersions: '3'
)

// Note: This test requires:
// - Dockerfile.test (test Dockerfile)
// - docker-compose.test.yml (rename to docker-compose.yml or use -f flag)
// - .env file (will be created from Infisical)

